<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä½ çš„ã€Œè·å ´ç–²å‹å®ˆè­·ç¥ã€æ˜¯å“ªä¸€éš»ï¼Ÿ</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');

        :root {
            --bg-color: #fdfaf5; /* æŸ”å’Œç±³ç™½ */
            --text-color: #3d3d3d; /* æ·±ç° */
            --primary-color: #00796b; /* æ²‰ç©©è—ç¶  */
            --primary-light: #e0f2f1; /* æ·ºè—ç¶  */
            --border-color: #dcdcdc;
            --white: #ffffff;
            --shadow-color: rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .quiz-container {
            background-color: var(--white);
            border-radius: 16px;
            box-shadow: 0 8px 25px var(--shadow-color);
            max-width: 600px;
            width: 100%;
            padding: 28px;
            box-sizing: border-box;
            overflow: hidden;
        }

        .intro h1, .result-page h1 {
            font-size: 26px;
            text-align: center;
            color: var(--primary-color);
            font-weight: 700;
        }
        .intro p {
            font-size: 16px;
            line-height: 1.7;
            text-align: center;
            margin: 16px 0 24px;
        }

        .question-block {
            display: none;
            animation: fadeIn 0.5s;
        }
        .question-block.active { display: block; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .question-block h3 {
            font-size: 20px;
            margin-bottom: 24px;
            font-weight: 500;
            line-height: 1.6;
        }
        .option { margin-bottom: 12px; }
        .option label {
            font-size: 16px;
            display: block;
            padding: 14px 18px;
            border: 1px solid var(--border-color);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
        }
        .option input[type="radio"] { display: none; }
        .option input[type="radio"]:checked + label {
            background-color: var(--primary-light);
            border-color: var(--primary-color);
            color: var(--primary-color);
            font-weight: 500;
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 121, 107, 0.1);
        }

        .navigation-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 14px 24px;
            font-size: 18px;
            font-weight: 500;
            width: 100%;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.2s;
            margin-top: 24px;
        }
        .navigation-btn:hover {
            background-color: #005a4f;
            transform: translateY(-2px);
        }

        .result-page { display: none; text-align: center; animation: fadeIn 0.5s; }
        .result-page .emoji {
            font-size: 180px;
            line-height: 1;
            margin-bottom: 16px;
            text-shadow: 0 4px 10px var(--shadow-color);
        }
        .result-page h2 {
            font-size: 34px;
            color: var(--primary-color);
            margin-bottom: 8px;
            font-weight: 700;
        }
        .result-page h3 {
            font-size: 20px;
            color: #757575;
            margin-bottom: 24px;
            font-weight: 500;
        }
        .result-page p {
            font-size: 17px;
            line-height: 1.8;
            text-align: left;
            max-width: 480px;
            margin: 0 auto 24px;
        }
        .promo-text {
            font-size: 15px;
            font-weight: 500;
            color: var(--primary-color);
            background-color: var(--primary-light);
            padding: 12px 18px;
            border-radius: 8px;
            margin: 24px auto;
            max-width: 480px;
            text-align: center;
            line-height: 1.6;
        }

        .progress-bar {
            width: 100%;
            background-color: #efefef;
            border-radius: 5px;
            margin: 20px 0 28px;
            overflow: hidden;
        }
        .progress-bar-inner {
            width: 0%;
            height: 10px;
            background-color: var(--primary-color);
            border-radius: 5px;
            transition: width 0.4s ease-in-out;
        }
        
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: fadeIn 0.3s;
        }
        .modal-content {
            background: var(--white);
            padding: 30px;
            border-radius: 16px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }
        .modal-content h3 {
            color: var(--primary-color);
            margin-top: 0;
            font-weight: 700;
        }
        .modal-content .solution { margin-bottom: 20px; }
        .modal-content .solution h4 { margin-bottom: 5px; font-weight: 700; }
        .modal-content .solution p { line-height: 1.7; }
        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            font-weight: bold;
            color: #aaa;
            cursor: pointer;
            border: none;
            background: none;
        }
    </style>
</head>
<body>

    <div class="quiz-container">
        
        <div id="intro-section">
            <div class="intro">
                <h1>ä½ çš„ã€Œè·å ´ç–²å‹ç¥ç¸ã€æ˜¯å“ªä¸€éš»ï¼Ÿ</h1>
                <p>æ¯å¤©ç‚ºå·¥ä½œæ‰“æ‹¼çš„ä½ ï¼Œæ˜¯ä¸æ˜¯å¶çˆ¾ä¹Ÿè¦ºå¾—ã€Œé›»é‡ä¸è¶³ã€å‘¢ï¼ŸğŸ”‹<br>ç–²å‹ï¼Œå…¶å¯¦æœ‰è¨±å¤šä¸åŒçš„é¢è²Œã€‚å¿«ä¾†ç©é€™å€‹æˆ‘å€‘ç²¾å¿ƒè¨­è¨ˆçš„è¶£å‘³å°æ¸¬é©—ï¼Œç²¾æº–æ‰¾å‡ºä½ çš„ç–²å‹é¡å‹ï¼Œä¸¦ç²å¾—å°ˆå±¬æ–¼ä½ çš„ã€Œå…ƒæ°£æ¢å¾©æŒ‡å—ã€ï¼</p>
                <button class="navigation-btn" id="start-btn">é–‹å§‹æ¸¬é©—</button>
            </div>
        </div>

        <div id="quiz-section" style="display: none;">
            <p style="text-align:center; font-size: 14px; color: #888;">è«‹ä¾ç…§ç›´è¦ºï¼Œé¸å‡ºæœ€ç¬¦åˆä½ æœ€è¿‘ç‹€æ…‹çš„ç­”æ¡ˆã€‚</p>
            <div class="progress-bar">
                <div class="progress-bar-inner" id="progress-bar-inner"></div>
            </div>

            <form id="quiz-form">
                <!-- Questions will be injected here by JS -->
            </form>
            <button class="navigation-btn" id="next-btn">ä¸‹ä¸€é¡Œ</button>
        </div>

        <div class="result-page" id="result-page">
            <!-- Result will be injected here by JS -->
        </div>

    </div>

    <div class="modal-overlay" id="guide-modal">
        <div class="modal-content">
            <button class="close-btn" id="close-modal-btn">&times;</button>
            <div id="guide-content"></div>
        </div>
    </div>


    <script>
        // UPDATED QUESTIONS (Q1-Q3)
        const quizData = [
            {
                question: "Q1. å°ä½ è€Œè¨€ï¼Œç–²å‹çš„ã€Œç¬¬ä¸€å€‹è¨Šè™Ÿã€é€šå¸¸æ˜¯ï¼Ÿ",
                options: {
                    A: "æ¬å®Œä¸€æ‰¹è²¨æˆ–ç«™äº†ä¸€æ•´å¤©å¾Œï¼Œé›™è…¿æ„Ÿè¦ºåƒçŒäº†é‰›ä¸€æ¨£æ²‰é‡ã€‚",
                    B: "ç›¯è‘—è¢å¹•å¹¾å°æ™‚å¾Œï¼Œçœ¼ç›é–‹å§‹æ¨¡ç³Šï¼Œè‚©é ¸åƒçŸ³é ­ä¸€æ¨£ç¡¬ã€‚",
                    C: "é€£çºŒé–‹æœƒæˆ–è™•ç†å®Œè¤‡é›œå ±å‘Šå¾Œï¼Œè…¦è¢‹ä¸€ç‰‡ç©ºç™½ï¼Œåæ‡‰è®Šæ…¢ã€‚",
                    D: "æ˜æ˜æ²’åšä»€éº¼äº‹ï¼Œä½†è·Ÿå¾ˆå¤šäººæºé€šéå¾Œï¼Œæ„Ÿè¦ºç²¾åŠ›è¢«å¸ä¹¾ï¼Œåªæƒ³å®‰éœã€‚"
                }
            },
            {
                question: "Q2. æ¥è¿‘ä¸‹ç­æ™‚ï¼Œä¸€ä½åŒäº‹è·‘ä¾†æ‹œè¨—ä½ ã€Œå¹«å€‹å°å¿™ã€ï¼Œä½ å…§å¿ƒçš„ç¬¬ä¸€å€‹å¿µé ­æ˜¯ï¼Ÿ",
                options: {
                    A: "ã€Œå¸Œæœ›é€™ä¸æ˜¯ä»€éº¼éœ€è¦æ¬æ±è¥¿æˆ–è·‘è…¿çš„é«”åŠ›æ´»ï¼Œæˆ‘å¿«æ²’åŠ›äº†ã€‚ã€",
                    B: "ã€Œåªè¦æˆ‘ä¸ç”¨é›¢é–‹åº§ä½ï¼Œå‹•å‹•æ»‘é¼ éµç›¤å°±èƒ½è§£æ±ºï¼Œé‚£å°±æ²’å•é¡Œã€‚ã€",
                    C: "ã€Œå¸Œæœ›é€™ä¸æ˜¯éœ€è¦å‹•è…¦çš„è¤‡é›œå•é¡Œï¼Œæˆ‘çš„CPUå·²ç¶“éç†±äº†ã€‚ã€",
                    D: "ã€Œæ‹œè¨—åƒè¬ä¸è¦æ˜¯éœ€è¦æºé€šå”èª¿çš„è«‹æ±‚ï¼Œæˆ‘ä»Šå¤©ä¸æƒ³å†èªªè©±äº†ã€‚ã€"
                }
            },
            {
                question: "Q3. å¦‚æœè¾¦å…¬å®¤æœ‰å€‹é­”æ³•ã€Œä¸€éµæ¢å¾©ã€æŒ‰éˆ•ï¼Œä½ æœ€å¸Œæœ›å®ƒçš„åŠŸèƒ½æ˜¯ï¼Ÿ",
                options: {
                    A: "æŒ‰ä¸‹å»ï¼Œç«‹åˆ»è®“å…¨èº«ç— ç—›çš„è‚Œè‚‰å®Œå…¨æ”¾é¬†ã€‚",
                    B: "æŒ‰ä¸‹å»ï¼Œç¬é–“æ²»å¥½æˆ‘åƒµç¡¬çš„è‚©é ¸å’Œä¹¾æ¾€çš„çœ¼ç›ã€‚",
                    C: "æŒ‰ä¸‹å»ï¼ŒæŠŠå¤§è…¦è£¡æ‰€æœ‰æ··äº‚çš„æ€ç·’å’Œå¾…è¾¦äº‹é …éƒ½æ¸…ç©ºã€‚",
                    D: "æŒ‰ä¸‹å»ï¼Œèƒ½ç‚ºæˆ‘å‰µé€ ä¸€å€‹æš«æ™‚ä¸éœ€å›æ‡‰ä»»ä½•äººçš„å®‰éœçµç•Œã€‚"
                }
            },
            { // Q4-Q6 remain the same
                question: "Q4. å¦‚æœç¾åœ¨èƒ½ç«‹åˆ»æ“æœ‰ä¸€é …è¶…èƒ½åŠ›ï¼Œä½ æœƒé¸ï¼Ÿ",
                options: {
                    A: "èº«é«”é‡‘å‰›ä¸å£ä¹‹èº«ï¼Œæ€éº¼å‹•éƒ½ä¸ç´¯ã€‚",
                    B: "ç¬é–“ç§»å‹•ï¼Œçœå»æ‰€æœ‰é€šå‹¤å’Œèµ°è·¯çš„æ™‚é–“ã€‚",
                    C: "è®€å¿ƒè¡“ï¼Œé¦¬ä¸ŠçŸ¥é“å°æ–¹åœ¨æƒ³ä»€éº¼ï¼Œç¯€çœæºé€šåŠ›æ°£ã€‚",
                    D: "åˆ†èº«è¡“ï¼Œä¸€å€‹èº«é«”è™•ç†å…¬äº‹ï¼Œå¦ä¸€å€‹æ‹¿ä¾†æ”¾ç©ºã€‚"
                }
            },
            {
                question: "Q5. ç•¶ä½ æ„Ÿåˆ°ã€Œå•Šï½å¥½ç´¯ã€çš„æ™‚å€™ï¼Œé€šå¸¸æ˜¯ï¼Ÿ",
                options: {
                    A: "é•·æ™‚é–“ç¶­æŒåŒä¸€å€‹å§¿å‹¢å¾Œï¼ŒåƒçŸ³åŒ–äº†ä¸€æ¨£ã€‚",
                    B: "æ‡‰ä»˜å®Œå¾ˆå¤šå®¢æˆ¶æˆ–æœƒè­°å¾Œï¼Œå¿ƒå¥½ç´¯ã€‚",
                    C: "æŒçºŒå‹•è…¦ã€è™•ç†è¤‡é›œå•é¡Œå¾Œï¼Œè…¦è¢‹ç•¶æ©Ÿã€‚",
                    D: "è™•ç†å®Œä¸€ä»¶å¾ˆè€—é«”åŠ›çš„å·¥ä½œå¾Œï¼Œå…¨èº«æ²’åŠ›ã€‚"
                }
            },
            {
                question: "Q6. åœ¨è¾¦å…¬å®¤ï¼Œä½ è¦ºå¾—è‡ªå·±æœ€åƒï¼Ÿ",
                options: {
                    A: "é»˜é»˜ç‡ƒç‡’ç”Ÿå‘½ï¼Œæä¾›èƒ½é‡çš„é‹çˆã€‚",
                    B: "å›ºå®šåœ¨åº§ä½ä¸Šï¼Œèˆ‡é›»è…¦åˆç‚ºä¸€é«”çš„æ¤ç‰©ã€‚",
                    C: "ç¸½æ˜¯åœ¨ç·šï¼Œéš¨æ™‚æº–å‚™å›è¦†è¨Šæ¯çš„å®¢æœæ©Ÿå™¨äººã€‚",
                    D: "ä¸åœè½‰å‹•ï¼Œè™•ç†å¤§å°äº‹çš„å¤šåŠŸèƒ½äº‹å‹™æ©Ÿã€‚"
                }
            }
        ];
        
        // UPDATED SCORING MAP (Q1-Q3 now have direct mapping)
        const scoringMap = {
            0: { A: 'a', B: 'b', C: 'c', D: 'd' }, // Q1 new
            1: { A: 'a', B: 'b', C: 'c', D: 'd' }, // Q2 new
            2: { A: 'a', B: 'b', C: 'c', D: 'd' }, // Q3 new
            3: { A: 'a', B: 'b', C: 'd', D: 'c' }, // Q4 original
            4: { A: 'b', B: 'd', C: 'c', D: 'a' }, // Q5 original
            5: { A: 'a', B: 'b', C: 'd', D: 'c' }  // Q6 original
        };

        const resultsData = {
            a: {
                emoji: "ğŸƒ", title: "ä½ æ˜¯ã€è² é‡æ°´ç‰›ã€‘", subtitle: "#å‹•æ…‹å‹å‹•ç–²å‹",
                description: "ä½ æ˜¯åœ˜éšŠä¸­çš„åŠ›é‡æ“”ç•¶ï¼Œä½†èº«é«”å¯ä¸æ˜¯é‡‘å‰›ä¸å£ä¹‹èº«ï¼ä½ çš„ç–²å‹ä¾†è‡ªæ–¼æ‰å¯¦çš„é«”åŠ›æ¶ˆè€—èˆ‡é‡è¤‡æ–½åŠ›ã€‚é™¤äº†ä¼‘æ¯ï¼Œæ›´è¦å­¸æœƒç”¨æ­£ç¢ºçš„å§¿å‹¢ç™¼åŠ›ï¼Œä¸¦åœ¨äº‹å¾Œå……åˆ†ä¼¸å±•ï¼Œæ‰èƒ½èµ°å¾—æ›´é•·é ã€‚"
            },
            b: {
                emoji: "ğŸ¨", title: "ä½ æ˜¯ã€å®šæ ¼ç„¡å°¾ç†Šã€‘", subtitle: "#éœæ…‹å§¿å‹¢ç–²å‹",
                description: "ä½ çš„çœ¼ç›ã€è‚©é ¸ã€è…°èƒŒï¼Œæ˜¯ä¸æ˜¯è¢å¹•çœ‹ä¹…äº†å°±é–‹å§‹æŠ—è­°ï¼Ÿä½ çš„èº«é«”åƒè¢«æŒ‰äº†æš«åœéµï¼Œé•·æ™‚é–“å›ºå®šå§¿å‹¢è®“ä½ çš„è¡€æ¶²å¾ªç’°å’Œè‚Œè‚‰éƒ½é€²å…¥ä¼‘çœ æ¨¡å¼ã€‚ä½ éœ€è¦çš„æ˜¯ã€Œå‹•èµ·ä¾†ã€ï¼Œè®“èº«é«”é‡æ–°é–‹æ©Ÿï¼"
            },
            c: {
                emoji: "ğŸ¦‰", title: "ä½ æ˜¯ã€ç‡’è…¦è²“é ­é·¹ã€‘", subtitle: "#å¿ƒæ™ºå£“åŠ›ç–²å‹",
                description: "ä½ çš„å¤§è…¦å°±åƒé«˜é€Ÿé‹è½‰çš„CPUï¼Œç¸½æ˜¯åœ¨æ€è€ƒã€æ±ºç­–ã€è§£æ±ºå•é¡Œã€‚ç•¶ä½ è¦ºå¾—è…¦è¢‹ã€Œéç†±ã€æ™‚ï¼Œä»£è¡¨ä½ çš„å¿ƒæ™ºéœ€è¦ã€Œé—œæ©Ÿã€èˆ‡ã€Œæ¸…ç©ºæš«å­˜ã€ï¼Œæ‰èƒ½ç¶­æŒæœ€ä½³æ•ˆèƒ½ï¼"
            },
            d: {
                emoji: "ğŸ•", title: "ä½ æ˜¯ã€ç‡Ÿæ¥­ç¬‘è‡‰æŸ´çŠ¬ã€‘", subtitle: "#æƒ…ç·’å‹å‹•ç–²å‹",
                description: "ä½ çš„å°ˆæ¥­ï¼Œå±•ç¾åœ¨ä½ æº«æš–çš„ç¬‘å®¹èˆ‡è€å¿ƒï¼Œä½†ã€Œæƒ…ç·’ã€ä¹Ÿæ˜¯æœƒæ¶ˆè€—èƒ½é‡çš„ï¼ä½ çš„ç´¯ï¼Œæ˜¯å¿ƒç´¯ã€‚ä½ éœ€è¦ç‚ºè‡ªå·±çš„ã€Œæƒ…ç·’é›»æ± ã€å¥½å¥½å……é›»ï¼Œå»ºç«‹èµ·å¥åº·çš„å¿ƒç†ç•Œç·šã€‚"
            }
        };

        const guidesData = {
            a: {
                title: "ã€è² é‡æ°´ç‰›ã€‘çš„å°ˆå±¬èˆ’ç·©æŒ‡å—",
                solutions: [
                    { title: "è§£æ–¹1ï¼šäº‹å‰æš–èº«ï¼Œäº‹å¾Œä¼¸å±•", text: "åœ¨é–‹å§‹å¤§é‡å‹å‹•å‰ï¼Œå…ˆåšäº›ç°¡å–®çš„é—œç¯€æ´»å‹•ï¼›å·¥ä½œçµæŸå¾Œï¼Œæ›´è¦é‡å°ä¸»è¦ä½¿ç”¨çš„è‚Œç¾¤ï¼ˆå¦‚æ‰‹è‡‚ã€è…°èƒŒã€è…¿éƒ¨ï¼‰é€²è¡Œéœæ…‹ä¼¸å±•ã€‚" },
                    { title: "è§£æ–¹2ï¼šæ ¸å¿ƒç™¼åŠ›æ˜¯é—œéµ", text: "ç„¡è«–æ¬é‡ç‰©æˆ–æ¨è»Šï¼Œè¨˜å¾—å…ˆæ”¶ç·Šè…¹éƒ¨ï¼Œæƒ³åƒç”¨è‚šå­çš„åŠ›é‡å»å¸¶å‹•ï¼Œè€Œéå–®é è…°åŠ›æˆ–è‡‚åŠ›ã€‚é€™èƒ½æœ‰æ•ˆä¿è­·ä½ çš„è…°æ¤ã€‚" }
                ]
            },
            b: {
                title: "ã€å®šæ ¼ç„¡å°¾ç†Šã€‘çš„å°ˆå±¬èˆ’ç·©æŒ‡å—",
                solutions: [
                    { title: "è§£æ–¹1ï¼šç•ªèŒ„é˜èµ·èº«æ³•", text: "è¨­å®šä¸€å€‹45-50åˆ†é˜çš„è¨ˆæ™‚å™¨ï¼Œæ™‚é–“ä¸€åˆ°å°±å¼·åˆ¶è‡ªå·±é›¢é–‹åº§ä½ï¼Œå“ªæ€•åªæ˜¯å»è£æ¯æ°´ã€ä¸Šå€‹å»æ‰€ï¼Œéƒ½èƒ½æœ‰æ•ˆæ‰“æ–·èº«é«”çš„ã€ŒçŸ³åŒ–ã€éç¨‹ã€‚" },
                    { title: "è§£æ–¹2ï¼šè¾¦å…¬æ¡Œé‚Šå¾®ä¼¸å±•", text: "åˆ©ç”¨ç©ºæª”ï¼Œåšäº›ç°¡å–®çš„ä¼¸å±•ã€‚ä¾‹å¦‚ï¼šé›™æ‰‹åœ¨èƒŒå¾Œäº¤æ¡ï¼Œæ“´å±•èƒ¸è†›ï¼›è¼•è¼•è½‰å‹•é ­éƒ¨ï¼Œæ”¾é¬†è‚©é ¸ï¼›çœ‹çœ‹é æ–¹ï¼Œèˆ’ç·©çœ¼å£“ã€‚" }
                ]
            },
            c: {
                title: "ã€ç‡’è…¦è²“é ­é·¹ã€‘çš„å°ˆå±¬èˆ’ç·©æŒ‡å—",
                solutions: [
                    { title: "è§£æ–¹1ï¼šæ¯æ—¥ã€Œå¤§è…¦æ¸…å–®è¡“ã€", text: "åœ¨ä¸‹ç­å‰æˆ–ç¡å‰ï¼Œå°‡è…¦ä¸­æ‰€æœ‰å¾…è¾¦äº‹é …ã€ç…©æƒ±éƒ½å¯«åœ¨ç´™ä¸Šã€‚é€™å€‹ã€Œå¯«ä¸‹ä¾†ã€çš„å‹•ä½œï¼Œèƒ½æœ‰æ•ˆé‡‹æ”¾ä½ çš„å¤§è…¦è¨˜æ†¶é«”ï¼Œè®“å®ƒä¸å†æ“”å¿ƒéºå¿˜ã€‚" },
                    { title: "è§£æ–¹2ï¼šç·´ç¿’ä¸‰åˆ†é˜ã€Œæ­£å¿µå‘¼å¸ã€", text: "ç•¶æ„Ÿåˆ°å¿ƒç…©æ„äº‚æ™‚ï¼Œæš«åœæ‰‹é‚Šå·¥ä½œã€‚å°ˆæ³¨åœ¨è‡ªå·±çš„ä¸€å‘¼ä¸€å¸ä¸Šï¼Œæ„Ÿå—ç©ºæ°£çš„é€²å‡ºã€‚åªè¦çŸ­çŸ­å¹¾åˆ†é˜ï¼Œå°±èƒ½å¹«åŠ©ç´›äº‚çš„æ€ç·’æ²‰æ¾±ä¸‹ä¾†ã€‚" }
                ]
            },
            d: {
                title: "ã€ç‡Ÿæ¥­ç¬‘è‡‰æŸ´çŠ¬ã€‘çš„å°ˆå±¬èˆ’ç·©æŒ‡å—",
                solutions: [
                    { title: "è§£æ–¹1ï¼šå‰µé€ ã€Œä¸‹ç­å„€å¼æ„Ÿã€", text: "æ¯å¤©ä¸‹ç­æ™‚ï¼Œåšä¸€ä»¶èƒ½æ˜ç¢ºåˆ‡æ›ã€Œå·¥ä½œ/ç”Ÿæ´»ã€æ¨¡å¼çš„äº‹ã€‚ä¾‹å¦‚ï¼šæ›ä¸Šèˆ’é©çš„ä¾¿æœã€è½ä¸€é¦–è‡ªå·±æœ€æ„›çš„æ­Œã€æˆ–æ˜¯å¿«èµ°10åˆ†é˜ã€‚" },
                    { title: "è§£æ–¹2ï¼šè¨­å®šä¸€å€‹ã€Œæƒ…ç·’åƒåœ¾æ¡¶ã€", text: "æ‰¾ä¸€å€‹ä¿¡è³´çš„æœ‹å‹ã€å®¶äººï¼Œæˆ–æº–å‚™ä¸€æœ¬ç­†è¨˜æœ¬ï¼Œå°‡å·¥ä½œä¸Šé‡åˆ°çš„ä¸æ„‰å¿«æˆ–å§”å±ˆï¼Œå®šæœŸåœ°ã€Œå€’å‡ºä¾†ã€ã€‚" }
                ]
            }
        };

        const startBtn = document.getElementById('start-btn');
        const nextBtn = document.getElementById('next-btn');
        const introSection = document.getElementById('intro-section');
        const quizSection = document.getElementById('quiz-section');
        const resultPage = document.getElementById('result-page');
        const progressBar = document.getElementById('progress-bar-inner');
        const quizForm = document.getElementById('quiz-form');
        const modalOverlay = document.getElementById('guide-modal');
        const closeModalBtn = document.getElementById('close-modal-btn');
        
        let currentQuestionIndex = 0;
        const userAnswers = [];

        function loadQuestions() {
            let html = "";
            quizData.forEach((q, index) => {
                html += `<div class="question-block ${index === 0 ? 'active' : ''}" data-question="${index}">
                            <h3>${q.question}</h3>`;
                for (const key in q.options) {
                    html += `<div class="option">
                                <input type="radio" id="q${index}${key}" name="q${index}" value="${key}">
                                <label for="q${index}${key}">${q.options[key]}</label>
                             </div>`;
                }
                html += `</div>`;
            });
            quizForm.innerHTML = html;
        }

        startBtn.addEventListener('click', () => {
            introSection.style.display = 'none';
            quizSection.style.display = 'block';
            updateProgress();
        });

        nextBtn.addEventListener('click', () => {
            const currentQuestionEl = quizForm.querySelector(`.question-block[data-question="${currentQuestionIndex}"]`);
            const selectedOption = currentQuestionEl.querySelector('input[type="radio"]:checked');

            if (!selectedOption) {
                alert('è«‹é¸æ“‡ä¸€å€‹ç­”æ¡ˆï¼');
                return;
            }

            userAnswers.push({qIndex: currentQuestionIndex, value: selectedOption.value});
            currentQuestionEl.classList.remove('active');
            currentQuestionIndex++;
            
            if (currentQuestionIndex < quizData.length) {
                quizForm.querySelector(`.question-block[data-question="${currentQuestionIndex}"]`).classList.add('active');
                if (currentQuestionIndex === quizData.length - 1) {
                    nextBtn.textContent = 'æŸ¥çœ‹çµæœ';
                }
            } else {
                showResult();
            }
            updateProgress();
        });

        function updateProgress() {
            const progressPercentage = (currentQuestionIndex / quizData.length) * 100;
            progressBar.style.width = progressPercentage + '%';
        }

        function showResult() {
            const scores = { a: 0, b: 0, c: 0, d: 0 };
            userAnswers.forEach(answer => {
                const resultType = scoringMap[answer.qIndex][answer.value];
                scores[resultType]++;
            });

            let maxScore = -1;
            let resultKey = 'a';
            for (let key in scores) {
                if (scores[key] > maxScore) {
                    maxScore = scores[key];
                    resultKey = key;
                }
            }

            const result = resultsData[resultKey];
            resultPage.innerHTML = `
                <div class="emoji">${result.emoji}</div>
                <h2>${result.title}</h2>
                <h3>${result.subtitle}</h3>
                <p>${result.description}</p>
                <p class="promo-text">å°ˆå±¬æ–¼ä½ çš„ç·©è§£ç§˜æ–¹å°±åœ¨æ¨‚T å¿«æ¨‚ç”Ÿæ´»å­£åˆŠ2026æ˜¥å­£è™Ÿ</p>
                <button class="navigation-btn" id="show-guide-btn">æŸ¥çœ‹ã€${result.title.substring(2, result.title.length-1)}ã€‘çš„å°ˆå±¬æŒ‡å—</button>
            `;

            quizSection.style.display = 'none';
            resultPage.style.display = 'block';

            document.getElementById('show-guide-btn').addEventListener('click', () => showGuideModal(resultKey));
            window.scrollTo(0, 0);
        }

        function showGuideModal(resultKey) {
            const guide = guidesData[resultKey];
            let guideHtml = `<h3>${guide.title}</h3>`;
            guide.solutions.forEach(sol => {
                guideHtml += `<div class="solution"><h4>${sol.title}</h4><p>${sol.text}</p></div>`;
            });
            
            document.getElementById('guide-content').innerHTML = guideHtml;
            modalOverlay.style.display = 'flex';
        }

        closeModalBtn.addEventListener('click', () => {
            modalOverlay.style.display = 'none';
        });

        modalOverlay.addEventListener('click', (e) => {
            if (e.target === modalOverlay) {
                modalOverlay.style.display = 'none';
            }
        });

        // Initialize
        loadQuestions();
    </script>

</body>
</html>


